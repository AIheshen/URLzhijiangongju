/* --- 全局颜色定义 ("清新竹绿" 主题) --- */
:root {
    --uqia-theme-bg: #f0f7f3; --uqia-theme-primary: #27ae60; --uqia-theme-primary-dark: #229954;
    --uqia-theme-secondary: #eafaf1; --uqia-theme-text: #34495e; --uqia-theme-border: #a3d9b8;
    --uqia-theme-shadow: rgba(40, 100, 60, 0.15); --uqia-theme-danger: #e74c3c;
    --uqia-theme-mark-bg: #f39c12; --uqia-theme-mark-bg-hover: #e67e22;
}

/* --- 主控制面板样式 --- */
#uqia-url-inspector-panel {
    width: 320px; background: var(--uqia-theme-bg); border: 1px solid var(--uqia-theme-border);
    box-shadow: 0 8px 25px var(--uqia-theme-shadow); color: var(--uqia-theme-text);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    border-radius: 10px; padding: 15px; display: flex; flex-direction: column;
    gap: 15px; transition: all 0.3s ease-in-out;
    max-height: 90vh;
}
#uqia-panel-header {
    display: flex; align-items: center; justify-content: center; gap: 8px; font-weight: bold;
    font-size: 16px; cursor: grab; padding-bottom: 10px;
    border-bottom: 1px solid var(--uqia-theme-border); color: var(--uqia-theme-primary-dark);
    transition: border-bottom-color 0.3s;
}
#uqia-panel-header:active { cursor: grabbing; }

/* 收起/展开状态样式 */
#uqia-url-inspector-panel.minimized { width: 52px; height: 52px; padding: 0; border-radius: 50%; cursor: pointer; }
#uqia-url-inspector-panel.minimized #uqia-panel-header { border-bottom: none; padding: 0; height: 100%; }
#uqia-url-inspector-panel.minimized .uqia-panel-title { display: none; }
#uqia-url-inspector-panel.minimized .uqia-panel-icon { font-size: 28px; }
#uqia-url-inspector-panel.minimized > div:not(#uqia-panel-header),
#uqia-url-inspector-panel.minimized > button { display: none; }

#uqia-controls { display: flex; gap: 10px; }
#uqia-controls button {
    flex: 1; padding: 10px; font-size: 14px; font-weight: bold; border: none;
    border-radius: 8px; cursor: pointer; transition: all 0.2s ease-in-out;
    background-color: var(--uqia-theme-primary); color: white;
}
#uqia-controls button:hover { background-color: var(--uqia-theme-primary-dark); transform: translateY(-2px); box-shadow: 0 4px 10px var(--uqia-theme-shadow); }
#uqia-extract-urls-btn { background-color: white; color: var(--uqia-theme-primary-dark); border: 1px solid var(--uqia-theme-primary); }
#uqia-extract-urls-btn:hover { background-color: var(--uqia-theme-secondary); }

#uqia-close-tabs-btn {
    width: 100%; padding: 8px; font-size: 14px; font-weight: bold; border: 1px solid var(--uqia-theme-danger);
    color: var(--uqia-theme-danger); background-color: white; border-radius: 8px; cursor: pointer;
    transition: all 0.2s ease-in-out;
}
#uqia-close-tabs-btn:hover { background-color: var(--uqia-theme-danger); color: white; box-shadow: 0 4px 10px rgba(192, 57, 43, 0.3); }

#uqia-url-list-container {
    background-color: var(--uqia-theme-secondary); padding: 10px; border-radius: 8px;
    border: 1px solid var(--uqia-theme-border);
    display: flex; flex-direction: column;
}
#uqia-url-counter { display: block; margin-bottom: 10px; font-weight: bold; padding-bottom: 8px; border-bottom: 1px solid var(--uqia-theme-border); flex-shrink: 0; }
#uqia-url-list { list-style: none; padding: 0; margin: 0; font-size: 12px; display: flex; flex-direction: column; gap: 8px; }

/* 链接列表 Flex 布局 */
#uqia-url-list li { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
#uqia-url-list .uqia-url-seq {
    flex-shrink: 0; width: 50px; text-align: right; 
    padding-right: 10px; font-weight: bold;
    color: var(--uqia-theme-primary-dark); font-size: 13px;
}
#uqia-url-list .uqia-url-text { flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
#uqia-url-list .uqia-mark-btn {
    flex-shrink: 0; padding: 2px 8px; font-size: 12px; border: none;
    background-color: var(--uqia-theme-mark-bg); color: white; border-radius: 4px;
    cursor: pointer; transition: background-color 0.2s;
}
#uqia-url-list .uqia-mark-btn:hover { background-color: var(--uqia-theme-mark-bg-hover); }
#uqia-url-list .uqia-mark-btn:disabled { background-color: #bdc3c7; cursor: not-allowed; }

#uqia-url-list .uqia-empty-list { color: #7f8c8d; text-align: center; padding: 20px 0; }

#uqia-remarks-output-container {
    border-top: 2px solid var(--uqia-theme-border); padding-top: 10px;
    display: flex; flex-direction: column; gap: 10px;
}

/* 【新】标记结果的控制区域样式 */
.uqia-remark-controls {
    display: flex; align-items: center; gap: 10px;
}
.uqia-remark-controls strong {
    flex-shrink: 0;
}
#uqia-remark-reason-select {
    flex-grow: 1; padding: 5px; border-radius: 4px;
    border: 1px solid var(--uqia-theme-border);
    font-size: 12px; background-color: white;
}

/* 【新】标记结果的输出区域样式 */
#uqia-remark-output-area {
    display: flex; align-items: center; gap: 10px;
    background-color: #fdfefe; padding: 5px 5px 5px 10px; border-radius: 4px;
    border: 1px solid var(--uqia-theme-border); min-height: 40px;
}
#uqia-remark-result-text {
    flex-grow: 1; font-size: 12px; user-select: all;
    white-space: pre-wrap;
}
#uqia-remark-result-text:empty::before {
    content: '点击标记按钮后，结果将显示在此处...';
    color: #7f8c8d; font-style: italic;
    white-space: normal;
}
#uqia-copy-remark-btn {
    display: none; /* 默认隐藏 */
    flex-shrink: 0;
    padding: 5px 10px; font-size: 12px; border: none;
    background-color: var(--uqia-theme-primary); color: white; border-radius: 4px;
    cursor: pointer; transition: background-color 0.2s;
}
#uqia-copy-remark-btn:hover {
    background-color: var(--uqia-theme-primary-dark);
}